# node_opencv

## 介绍:

根据个人兴趣爱好写的node调用opencv的模块，由于目前node opencv的库都是使用NAN来封装CPP扩展，下载的时候需要VS2015或者其他符合条件的环境来编译。此模块使用N-API，免去了编译环境的苦恼，当然有些系统上的差异是否会影响还未测试。模块没有什么高大上的技术，**仅供学习娱乐，不要使用到生成环境**。目前就写了图像矫正的函数，分别有文件和base64版本。

## 安装：

在自己的电脑上安装opencv，要求4.X版本

**推荐：**也可以直接克隆放进node_modules

`npm install image_corret`

由于我在墙内，上传npm会滞后或者有点问题，ε=(´ο｀*)))唉

## 版本介绍

目前linux和Windows皆可以使用

## 函数一览

### FrameCorrection（同步）

同步

| 参数名    | 类型   | 默认值 | 是否可选 |                |
| --------- | :----- | ------ | -------- | -------------- |
| imageSrc  | string | 无     | 否       | 图片的地址     |
| outputSrc | string | 无     | 否       | 图片的输出地址 |

这个函数会根据图片的边框线来矫正图片，并且根据最大面积边框裁剪。

输出图片在清晰度上会有5%的损失。

### FrameCorrectionBase64（同步）

| 参数名     | 类型   | 默认值 | 是否可选 |                                    |
| ---------- | :----- | ------ | -------- | ---------------------------------- |
| base64Data | string | 无     | 否       | 图片base64编码字符串               |
| type       | string | 无     | 否       | 图片类型，jpg/jpeg/png，等常见格式 |

这个函数会根据图片的边框线来矫正图片，并且根据最大面积边框裁剪。

输出矫正后的base64字符串，这个函数是同步函数。

### CharacterCorrection（同步）

| 参数名    | 类型   | 默认值 | 是否可选 |                |
| --------- | :----- | ------ | -------- | -------------- |
| imageSrc  | string | 无     | 否       | 图片的地址     |
| outputSrc | string | 无     | 否       | 图片的输出地址 |

这个函数会根据图片的文字线来矫正图片，当然边框的线条也会作为基准，取平均值。

输出图片在清晰度上会有5%的损失。

### CharacterCorrectionBase64（同步）

| 参数名     | 类型   | 默认值 | 是否可选 |                                    |
| ---------- | :----- | ------ | -------- | ---------------------------------- |
| base64Data | string | 无     | 否       | 图片base64编码字符串               |
| type       | string | 无     | 否       | 图片类型，jpg/jpeg/png，等常见格式 |

这个函数会根据图片的文字线来矫正图片，当然边框的线条也会作为基准，取平均值。

输出矫正后的base64字符串，这个函数是同步函数。

### DistortionCorrection（同步）

| 参数名    | 类型   | 默认值 | 是否可选 |                |
| --------- | :----- | ------ | -------- | -------------- |
| imageSrc  | string | 无     | 否       | 图片的地址     |
| outputSrc | string | 无     | 否       | 图片的输出地址 |

这个函数会根据图片的角点来扭曲矫正图片，并且根据角点裁剪。

输出图片在清晰度上会有5%的损失。

### DistortionCorrectionBase64（同步）

| 参数名     | 类型   | 默认值 | 是否可选 |                                    |
| ---------- | :----- | ------ | -------- | ---------------------------------- |
| base64Data | string | 无     | 否       | 图片base64编码字符串               |
| type       | string | 无     | 否       | 图片类型，jpg/jpeg/png，等常见格式 |

这个函数会根据图片的角点来扭曲矫正图片，并且根据角点裁剪。

输出矫正后的base64字符串，这个函数是同步函数。

